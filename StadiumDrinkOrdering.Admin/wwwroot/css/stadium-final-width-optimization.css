/* ===============================================
   STADIUM FINAL WIDTH OPTIMIZATION
   Last-loaded CSS to ensure maximum width utilization
   =============================================== */

/* ===============================================
   CRITICAL: Remove ALL width limiting constraints
   =============================================== */

/* Force full viewport usage */
html, body {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
}

/* Remove Bootstrap and other framework container constraints */
.container,
.container-fluid,
.container-sm,
.container-md,
.container-lg,
.container-xl,
.container-xxl,
.row {
    max-width: none !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    flex: none !important;
}

/* Force main layout to use full width */
#admin-layout-main {
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Force content area to use full width */
#admin-layout-content {
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Stadium overview wrapper - MAXIMUM WIDTH */
.stadium-overview-wrapper {
    width: 100vw !important;
    max-width: 100vw !important;
    margin: 0 !important;
    padding: 0 clamp(0.5rem, 2vw, 2rem) !important;
    box-sizing: border-box !important;
}

/* Main content full width */
.stadium-main-content {
    width: 100% !important;
    max-width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    gap: clamp(0.5rem, 1.5vw, 1.5rem) !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Control panel optimization */
.control-panel,
#admin-stadium-control-panel {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 0 1rem 0 !important;
    padding: clamp(1rem, 2vw, 2rem) !important;
}

/* Control groups grid optimization */
.control-groups,
#admin-stadium-control-groups {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    gap: clamp(1rem, 3vw, 2rem) !important;
    width: 100% !important;
}

/* Stadium visualization section - FULL WIDTH */
.stadium-visualization,
#admin-stadium-visualization {
    width: 100% !important;
    max-width: 100% !important;
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
}

/* Info panel horizontal layout - FULL WIDTH */
.info-panel-horizontal,
#admin-stadium-info-panel {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 0 1.5rem 0 !important;
}

/* Stadium container - ABSOLUTE MAXIMUM WIDTH */
.stadium-container,
#admin-stadium-container {
    width: 100% !important;
    max-width: 100% !important;
    min-height: 70vh !important;
    padding: clamp(0.5rem, 2vw, 2rem) !important;
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-sizing: border-box !important;
}

/* ===============================================
   STADIUM LAYOUT - ULTIMATE OPTIMIZATION
   =============================================== */

/* Stadium flex layout - TRUE MAXIMUM USAGE */
.stadium-flex-layout,
#admin-stadium-flex-layout {
    /* Grid system for maximum space efficiency */
    display: grid !important;
    grid-template-areas:
        "north north north"
        "west field east"
        "south south south" !important;

    /* Ultra-optimized column ratios */
    grid-template-columns: 1fr minmax(50vw, 4fr) 1fr !important;
    grid-template-rows: minmax(120px, 1fr) minmax(40vh, 3fr) minmax(120px, 1fr) !important;

    /* Maximum dimensions */
    width: 100% !important;
    max-width: 100% !important;
    height: clamp(70vh, 85vh, 90vh) !important;
    min-height: 70vh !important;

    /* Optimized spacing */
    gap: clamp(0.5rem, 1.5vw, 1.5rem) !important;
    padding: clamp(1rem, 3vw, 3rem) !important;
    margin: 0 !important;

    /* Enhanced styling */
    background: radial-gradient(ellipse at center,
        rgba(74, 222, 128, 0.03) 0%,
        rgba(34, 197, 94, 0.06) 30%,
        rgba(22, 163, 74, 0.03) 70%,
        transparent 100%) !important;

    border-radius: clamp(1rem, 2.5vw, 2.5rem) !important;
    box-shadow:
        0 25px 50px -12px rgba(0, 0, 0, 0.12),
        0 0 0 1px rgba(255, 255, 255, 0.05),
        inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;

    position: relative !important;
    overflow: visible !important;
    backdrop-filter: blur(1px) !important;
}

/* ===============================================
   FIELD OPTIMIZATION - MAXIMUM PRESENCE
   =============================================== */

.stadium-field,
#admin-stadium-field {
    grid-area: field !important;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;

    /* Optimized aspect ratio for maximum visual impact */
    aspect-ratio: 1.6 !important;

    /* Enhanced field styling */
    background: linear-gradient(135deg,
        #4ade80 0%,
        #22c55e 30%,
        #16a34a 70%,
        #15803d 100%) !important;

    border-radius: clamp(1rem, 2vw, 2rem) !important;

    box-shadow:
        inset 0 4px 20px rgba(0, 0, 0, 0.1),
        0 15px 45px rgba(34, 197, 94, 0.25),
        0 0 0 clamp(3px, 0.6vw, 6px) rgba(255, 255, 255, 0.4),
        0 0 0 clamp(4px, 0.8vw, 8px) rgba(34, 197, 94, 0.1) !important;

    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
    overflow: hidden !important;
}

/* Enhanced field markings */
.center-circle {
    width: clamp(80px, 10vw, 140px) !important;
    height: clamp(80px, 10vw, 140px) !important;
    border: clamp(3px, 0.4vw, 4px) solid rgba(255, 255, 255, 0.9) !important;
    border-radius: 50% !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
}

.center-circle::after {
    width: clamp(6px, 0.8vw, 10px) !important;
    height: clamp(6px, 0.8vw, 10px) !important;
    background: rgba(255, 255, 255, 0.95) !important;
}

.center-line {
    width: clamp(3px, 0.4vw, 4px) !important;
    background: rgba(255, 255, 255, 0.8) !important;
}

.field-label {
    font-size: clamp(1rem, 3vw, 2rem) !important;
    font-weight: 900 !important;
    color: rgba(255, 255, 255, 0.95) !important;
    text-shadow:
        0 2px 4px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(255, 255, 255, 0.3) !important;
    letter-spacing: 0.3em !important;
    bottom: clamp(1rem, 3vw, 2rem) !important;
}

/* ===============================================
   TRIBUNE OPTIMIZATION - MAXIMUM UTILIZATION
   =============================================== */

/* North and South tribunes - FULL WIDTH */
.stand-position-north,
.stand-position-south {
    justify-self: stretch !important;
    width: 100% !important;
    max-width: 100% !important;
}

.stand-position-north {
    grid-area: north !important;
    align-self: end !important;
}

.stand-position-south {
    grid-area: south !important;
    align-self: start !important;
}

/* East and West tribunes - FULL HEIGHT */
.stand-position-east,
.stand-position-west {
    align-self: stretch !important;
    height: 100% !important;
    max-height: 100% !important;
}

.stand-position-east {
    grid-area: east !important;
    justify-self: start !important;
}

.stand-position-west {
    grid-area: west !important;
    justify-self: end !important;
}

/* ===============================================
   STAND OPTIMIZATION - FLEXIBLE SIZING
   =============================================== */

.stadium-stand {
    width: 100% !important;
    height: 100% !important;
    min-width: unset !important;
    max-width: unset !important;
    min-height: unset !important;
    max-height: unset !important;

    /* Dynamic padding based on viewport */
    padding: clamp(1rem, 2.5vw, 2.5rem) !important;

    /* Enhanced visual styling */
    background: rgba(255, 255, 255, 0.97) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;

    border-radius: clamp(1rem, 2vw, 2rem) !important;
    border: 1px solid rgba(255, 255, 255, 0.4) !important;

    box-shadow:
        0 20px 40px -12px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;

    /* Flexbox for optimal content distribution */
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;

    transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    overflow: hidden !important;
}

.stadium-stand::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 2px !important;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.6) 50%,
        transparent 100%) !important;
    z-index: 1 !important;
}

.stadium-stand:hover {
    transform: translateY(-4px) scale(1.02) !important;
    box-shadow:
        0 32px 64px -16px rgba(0, 0, 0, 0.2),
        0 0 0 1px rgba(255, 255, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* Stand titles - responsive sizing */
.stand-title {
    font-size: clamp(1.125rem, 2.5vw, 1.5rem) !important;
    font-weight: 800 !important;
    margin: 0 0 clamp(0.75rem, 2vw, 1.25rem) 0 !important;
    text-align: center !important;
    line-height: 1.2 !important;

    /* Enhanced text styling */
    background: linear-gradient(135deg, #1e293b 0%, #475569 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;

    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8) !important;
    position: relative !important;
    z-index: 2 !important;
}

/* ===============================================
   SECTORS GRID - MAXIMUM DENSITY OPTIMIZATION
   =============================================== */

.sectors-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(clamp(70px, 12vw, 130px), 1fr)) !important;
    gap: clamp(0.5rem, 1.2vw, 1.25rem) !important;
    width: 100% !important;
    height: 100% !important;
    flex: 1 !important;
    align-content: start !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 !important;
}

.sector {
    /* Optimized sector dimensions */
    /* aspect-ratio: 1 !important; */ /* REMOVED - causing sectors to exceed parent height */
    min-height: clamp(60px, 10vw, 110px) !important;
    width: 100% !important;

    /* Enhanced sector styling */
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;

    border: 2px solid rgba(255, 255, 255, 0.5) !important;
    border-radius: clamp(0.75rem, 1.5vw, 1.25rem) !important;
    padding: clamp(0.5rem, 1.2vw, 1rem) !important;

    box-shadow:
        0 8px 16px -4px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;

    /* Perfect content centering */
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;

    /* Enhanced interactions */
    cursor: pointer !important;
    transition: all 350ms cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    overflow: hidden !important;
}

.sector::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg,
        transparent,
        rgba(59, 130, 246, 0.1),
        transparent) !important;
    transition: left 600ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.sector:hover {
    transform: translateY(-3px) scale(1.08) !important;
    box-shadow:
        0 16px 32px -8px rgba(0, 0, 0, 0.15),
        0 0 0 2px rgba(59, 130, 246, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    border-color: rgba(59, 130, 246, 0.6) !important;
}

.sector:hover::before {
    left: 100% !important;
}

.sector:focus {
    outline: 3px solid rgba(59, 130, 246, 0.5) !important;
    outline-offset: 2px !important;
}

/* Enhanced sector text styling */
.sector-header .sector-name {
    font-size: clamp(0.625rem, 1.5vw, 1rem) !important;
    font-weight: 700 !important;
    color: #1e293b !important;
    margin-bottom: 0.25rem !important;
    line-height: 1.2 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
}

.sector-content .seat-count {
    font-size: clamp(0.5rem, 1.2vw, 0.875rem) !important;
    font-weight: 600 !important;
    color: #64748b !important;
    margin-bottom: 0.25rem !important;
    font-variant-numeric: tabular-nums !important;
}

.sector-content .occupancy-text {
    font-size: clamp(0.4rem, 1vw, 0.75rem) !important;
    font-weight: 500 !important;
    color: #64748b !important;
    opacity: 0.8 !important;
}

/* VIP sector enhancements */
.sector.vip,
.sector[data-vip="true"] {
    background: linear-gradient(135deg,
        rgba(251, 191, 36, 0.1) 0%,
        rgba(255, 255, 255, 0.95) 50%,
        rgba(217, 119, 6, 0.1) 100%) !important;
    border-color: rgba(251, 191, 36, 0.4) !important;
}

.sector.vip:hover,
.sector[data-vip="true"]:hover {
    border-color: rgba(251, 191, 36, 0.8) !important;
    box-shadow:
        0 16px 32px -8px rgba(251, 191, 36, 0.2),
        0 0 0 2px rgba(251, 191, 36, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* ===============================================
   ULTRA-WIDE SCREEN OPTIMIZATIONS
   =============================================== */

/* 4K and Ultra-wide displays (2560px+) */
@media (min-width: 2560px) {
    .stadium-flex-layout {
        grid-template-columns: 1.2fr minmax(55vw, 5fr) 1.2fr !important;
        grid-template-rows: minmax(150px, 1.2fr) minmax(45vh, 3.5fr) minmax(150px, 1.2fr) !important;
        gap: 2.5rem !important;
        padding: 4rem !important;
        height: 88vh !important;
    }

    .sectors-grid {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
        gap: 2rem !important;
    }

    .sector {
        min-height: 120px !important;
    }

    .field-label {
        font-size: 2.5rem !important;
        letter-spacing: 0.4em !important;
    }

    .center-circle {
        width: 160px !important;
        height: 160px !important;
    }
}

/* 8K displays (3840px+) */
@media (min-width: 3840px) {
    .stadium-flex-layout {
        grid-template-columns: 1.5fr minmax(60vw, 6fr) 1.5fr !important;
        grid-template-rows: minmax(180px, 1.3fr) minmax(50vh, 4fr) minmax(180px, 1.3fr) !important;
        gap: 3rem !important;
        padding: 5rem !important;
        height: 90vh !important;
    }

    .sectors-grid {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)) !important;
        gap: 2.5rem !important;
    }

    .sector {
        min-height: 140px !important;
    }

    .field-label {
        font-size: 3rem !important;
    }

    .center-circle {
        width: 200px !important;
        height: 200px !important;
    }
}

/* ===============================================
   TABLET AND MOBILE OPTIMIZATIONS
   =============================================== */

/* Tablet landscape optimization */
@media (max-width: 1023px) and (min-width: 768px) {
    .stadium-flex-layout {
        grid-template-columns: 0.8fr minmax(45vw, 3fr) 0.8fr !important;
        grid-template-rows: minmax(100px, 1fr) minmax(35vh, 2.5fr) minmax(100px, 1fr) !important;
        gap: 1.25rem !important;
        padding: 1.5rem !important;
        height: 75vh !important;
    }

    .sectors-grid {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)) !important;
        gap: 0.75rem !important;
    }

    .sector {
        min-height: 70px !important;
    }
}

/* Mobile optimization */
@media (max-width: 767px) {
    .stadium-overview-wrapper {
        padding: 0 0.5rem !important;
    }

    .stadium-flex-layout {
        display: flex !important;
        flex-direction: column !important;
        height: auto !important;
        min-height: unset !important;
        gap: 1rem !important;
        padding: 1rem !important;
    }

    .stand-position-north { order: 1 !important; }
    .stand-position-west { order: 2 !important; }
    .stadium-field {
        order: 3 !important;
        aspect-ratio: 1.4 !important;
        min-height: 250px !important;
        max-height: 320px !important;
    }
    .stand-position-east { order: 4 !important; }
    .stand-position-south { order: 5 !important; }

    .stadium-stand {
        width: 100% !important;
        height: auto !important;
        min-height: 140px !important;
        padding: 1rem !important;
    }

    .sectors-grid {
        grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)) !important;
        gap: 0.5rem !important;
    }

    .sector {
        min-height: 50px !important;
        aspect-ratio: 1.1 !important;
    }

    .field-label {
        font-size: 1.25rem !important;
    }

    .center-circle {
        width: 60px !important;
        height: 60px !important;
    }
}

/* Small mobile optimization */
@media (max-width: 480px) {
    .stadium-overview-wrapper {
        padding: 0 0.25rem !important;
    }

    .stadium-flex-layout {
        padding: 0.75rem !important;
        gap: 0.75rem !important;
    }

    .stadium-field {
        min-height: 200px !important;
        max-height: 280px !important;
    }

    .stadium-stand {
        min-height: 120px !important;
        padding: 0.75rem !important;
    }

    .sectors-grid {
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)) !important;
        gap: 0.25rem !important;
    }

    .sector {
        min-height: 45px !important;
        padding: 0.25rem !important;
    }

    .field-label {
        font-size: 1rem !important;
        letter-spacing: 0.15em !important;
    }

    .center-circle {
        width: 40px !important;
        height: 40px !important;
    }
}

/* ===============================================
   PERFORMANCE & ACCESSIBILITY FINAL
   =============================================== */

/* High contrast support */
@media (prefers-contrast: high) {
    .stadium-field {
        background: #228B22 !important;
        border: 4px solid #000000 !important;
    }

    .stadium-stand {
        background: #FFFFFF !important;
        border: 3px solid #000000 !important;
    }

    .sector {
        background: #FFFFFF !important;
        border: 3px solid #000000 !important;
    }

    .center-circle,
    .center-line {
        border-color: #FFFFFF !important;
        background: #FFFFFF !important;
    }

    .field-label,
    .stand-title,
    .sector-header .sector-name {
        color: #000000 !important;
        text-shadow: none !important;
        -webkit-text-fill-color: #000000 !important;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .stadium-flex-layout,
    .stadium-stand,
    .sector,
    .stadium-field,
    .sector::before {
        animation: none !important;
        transition: none !important;
    }

    .stadium-stand:hover,
    .sector:hover {
        transform: none !important;
    }
}

/* Print optimization */
@media print {
    .stadium-flex-layout {
        width: 100% !important;
        height: auto !important;
        max-height: none !important;
        background: white !important;
        box-shadow: none !important;
        border: 2px solid #000000 !important;
        page-break-inside: avoid !important;
    }

    .stadium-field {
        background: #e5e7eb !important;
        box-shadow: none !important;
        border: 2px solid #000000 !important;
    }

    .stadium-stand,
    .sector {
        background: white !important;
        box-shadow: none !important;
        border: 1px solid #000000 !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
}

/* GPU acceleration for performance */
.stadium-flex-layout,
.stadium-stand,
.sector,
.stadium-field {
    will-change: transform !important;
    transform: translateZ(0) !important;
    backface-visibility: hidden !important;
}

/* Layout containment for performance */
.stadium-flex-layout {
    contain: layout style paint !important;
}

.stadium-stand {
    contain: layout paint !important;
}

.sector {
    contain: paint !important;
}

/* Final override for any remaining constraints */
* {
    box-sizing: border-box !important;
}

.stadium-overview-wrapper *,
.stadium-main-content *,
.stadium-visualization *,
#admin-stadium-container * {
    max-width: none !important;
}

/* Force flexbox layouts to use available space */
.stadium-main-content,
.stadium-visualization {
    flex: 1 1 auto !important;
}